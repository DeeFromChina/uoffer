<sqls>
	<!-- 用户历史模板 -->
	<sql id="queryUserExperienceName">
		SELECT
			detail.id,
			(
				CASE 
					WHEN detail.ename = detail.sname 
					THEN 
						IF(
							@named = (select @named := detail.ename),
							CONCAT(detail.sname,(@i := @i + 1)),
							CONCAT(detail.sname,(@i := 1))
						) 
					ELSE "" END 
			) AS dname 
			FROM
				(
					SELECT
						experience.id,
						experience.name AS ename,
						sube.name AS sname
					FROM
						user_experience experience
					LEFT JOIN (
							SELECT
								experience.name
							FROM
								user_experience experience
							GROUP BY
								experience.name
							HAVING
								count(experience.name) > 1
						) sube ON experience.name = sube.name {#param}
						ORDER BY ename DESC
				) detail,
				(SELECT @i := 0) AS it 
	</sql>
	<!-- 用户经历列表 -->
	<sql id="queryUserExperience">
		SELECT
			e.id AS id,
			e.name AS name,
			e.type AS type,
			e.start_time AS startTime,
			e.end_time AS endTime,
			e.job AS job,
			j.name AS jobBelong,
			e.job_description AS jobDescription,
			e.level AS level,
			e.descript1 AS descript1,
			e.descript2 AS descript2 
		FROM
			user_experience e
		LEFT JOIN job j ON j.id = e.job_belong {#param}
	</sql>
	<!-- 用户简历技能列表 -->
	<sql id="queryUserResumeSkill">
		SELECT 
			rs.id AS id,
			rs.skill_id AS skillId,
			rs.user_resume_id AS userResumeId,
			s.name AS skillName 
		FROM
			user_resume_skill rs
		LEFT JOIN skill s ON s.id = rs.skill_id {#param}
	</sql>
</sqls>